# =============================================================================
# Podcast RAG - Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment.
# For production/Supabase setup, see .env.production.example

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# --- Media Storage ---
# Base directory for podcast audio files
MEDIA_EMBED_BASE_DIRECTORY=/path/to/your/podcasts

# --- Gemini API ---
# Google Gemini API key (required for metadata extraction, RAG queries)
# Get your key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# =============================================================================
# OPTIONAL CONFIGURATION (sensible defaults provided)
# =============================================================================

# --- Gemini Model ---
# Model to use for AI features (gemini-2.5-flash, gemini-2.5-pro)
GEMINI_MODEL=gemini-2.5-flash

# --- Gemini File Search ---
# Name of the File Search store for podcast transcripts
GEMINI_FILE_SEARCH_STORE_NAME=podcast-transcripts

# --- Whisper Transcription ---
# Model: tiny, base, small, medium, large-v3 (medium recommended)
WHISPER_MODEL=medium
# Device: cuda (GPU) or cpu
WHISPER_DEVICE=cuda
# Compute type: float16 (GPU), int8 (CPU), float32
WHISPER_COMPUTE_TYPE=float16

# --- Database ---
# SQLite for local development (default), PostgreSQL for production
# DATABASE_URL=sqlite:///./podcast_rag.db
# DATABASE_URL=postgresql://user:password@localhost:5432/podcast_rag

# --- Email Configuration (Resend) ---
# Leave RESEND_API_KEY blank to disable email features
# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY=
RESEND_FROM_EMAIL=podcast@example.com
RESEND_FROM_NAME="Podcast RAG"

# --- Web App Base URL ---
# Base URL for the web application (used in email links)
# Should match your sending domain to avoid spam filters
WEB_BASE_URL=

# --- Email Digest Settings ---
# Hour of day (0-23) to send daily digest emails
EMAIL_DIGEST_SEND_HOUR=8
# Timezone for scheduling (IANA timezone name)
EMAIL_DIGEST_TIMEZONE=America/Los_Angeles

# =============================================================================
# ADVANCED CONFIGURATION (rarely need to change)
# =============================================================================

# --- Web Server ---
# PORT=8080
# ALLOWED_ORIGINS=*
# RATE_LIMIT=10/minute

# --- Podcast Downloads ---
# PODCAST_MAX_CONCURRENT_DOWNLOADS=10
# PODCAST_DOWNLOAD_TIMEOUT=300

# --- Database Connection Pool (for PostgreSQL) ---
# DB_POOL_SIZE=3
# DB_MAX_OVERFLOW=2
# DB_POOL_PRE_PING=true

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
# These are used by docker-compose for volume mounts on the host.
# The application inside the container uses MEDIA_EMBED_BASE_DIRECTORY.

# Path to podcast files on the Docker host
# PODCAST_DIR=/opt/podcasts

# Path to store cache file on the Docker host
# CACHE_DIR=.

# Inside the container, set:
# MEDIA_EMBED_BASE_DIRECTORY=/data/podcasts
